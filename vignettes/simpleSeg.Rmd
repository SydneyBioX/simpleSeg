---
title: "An Introduction to **simpleSeg**"
author: Alexander Nicholls, Ellis Patrick, Nicolas Canete <br>
        The University of Sydney, Australia.
output: 
  BiocStyle::html_document:
    toc: true
vignette: >
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteIndexEntry{An Introduction to the simpleSeg Package}
---

<style>
    body .main-container {
        max-width: 1600px;
    }
    p {
      padding: 20px;
    }
    .table {
      border: 2px solid #e64626;
    }
    .table>thead>tr>th
    {
     border-bottom: 2px solid #e64626;
     border-right: 1px solid black;
    }
    .table>tbody>tr>td {
     border-right: 1px solid black;
    }    
</style>

```{r, echo = FALSE, results = "asis"}
options(width = 130)



```

## Overview

**simpleSeg** provides a structured pipeline for segmentation.

```{r}
library(simpleSeg)
```

## Reading in data
any imagning data can be read into the function to generate masks, be it matrices, lists or CytoImageLists. for the purposes of this demonstration, we will use example data provided in IMCdatasets package



```{r}
data(pancreasImages)
```
Performing segmentation is simple
```{r}
masks <- simpleSeg::simpleSeg(pancreasImages, nucleus = 1, cores = 3, cellBody = "dilate")
```
```{r}
cell.df <- createCells(masks, image)
```
```{r}
mcols(masks)$ImageNb <- c("1", "2", "3")
mcols(image)$ImageNb <- c("1", "2", "3")

markers <- c("H3", "CD99", "PIN", "CD8a", "CDH")
colnames(cell.df) <- c(markers, "x", "y", "area", "ImageID")
cell.df.normalized <- simpleSeg::normalizeCells(cell.df, markers = markers, transformation = "asinh", method = "99perc")
```

